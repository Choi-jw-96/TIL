<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  <body class="position-relative">
  <!-- 버튼 -->
  <header class="d-flex justify-content-center my-2 sticky-top bg-white">
    <button class="btn btn-primary m-3 btn-lg" id="btn">
      생성
    </button>
  </header>

  <main class="container position-relative">  </main>    
    <!-- Lodash -->
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    
    <!-- 번호 생성기 -->
    <script>
      // 6개 랜덤 넘버 추출
      const btn = document.querySelector('#btn')
      const main = document.querySelector('main')
      
      // const firstWinner = new Set([11, 23, 25, 30, 32, 40])   // <- 세트로 만든다.
      
      
    // <!-- 눌렀을 때 랜덤 넘버 나옴 -->
    btn.addEventListener('click', (e) => {
      const div = document.createElement('div')
      div.classList.add('d-flex', 'justify-content-evenly', 'mt-3')
      div.setAttribute('style', 'height: 90px; width: auto;')
      
      // 번호 생성 로직
      const randomNumberList = _.range(1, 46)
      // console.log(randomNumberList)
      
      const firstWinner = _.sampleSize(randomNumberList, 6)
      // console.log(firstWinner)
      const sampleNumberList = _.sampleSize(randomNumberList, 6)
    
      // 생성된 번호를 각각 div 태그 안에 넣고, 위 div에 추가
      let n = 0
      sampleNumberList.forEach((e) => {
        n += 1
        const output = document.createElement('div')
        // output.classList.value = 'border border-dark-subtle rounded-circle border-3 text-center pt-3 fs-1'
        if (n === 1) {
          console.log(n)
          output.classList.value = "bg-primary-subtle border-primary-subtle border rounded-circle border-3 text-center pt-2 fs-1 "
        } else if (2 <= n && n <= 4) {
          console.log(n)
          output.classList.value = "bg-danger-subtle border-danger-subtle border rounded-circle border-3 text-center pt-2 fs-1"
        } else {
          console.log(n)
          output.classList.value = "bg-dark-subtle border-dark-subtle border rounded-circle border-3 text-center pt-2 fs-1"
        }
        output.setAttribute('style', 'width: 90px; min-width: 90px;')
        output.textContent = e
        div.appendChild(output)
      });

      // firstWinner.has(x)   // x가 firstWinner에 있는지 확인 -> boolean 값 반환
      const setSampleNumberList = new Set(sampleNumberList)
      
      let cnt = 0
      firstWinner.forEach((e) => {
        // e가 sampleNumberList에 있는지 확인
        if (setSampleNumberList.has(e)) {  // -> 있으면 true 없으면 false
          cnt += 1
        }
      })

      const winDiv = document.createElement('div')
      winDiv.classList.value = 'border border-dark-subtle rounded-circle border-3 text-center pt-3 fs-1'
      winDiv.setAttribute('style', 'width: 90px; min-width: 90px;')
      if (cnt === 6) {
        // 당첨 이라고 출력
        winDiv.textContent = "당첨"
      } else {
        winDiv.textContent = "꽝"
      }
      div.appendChild(winDiv)
      main.appendChild(div)

      // const p = document.createElement('p')
      // p.classList.add('text-body-secondary')
      // // p.textContent = 'abc'
      // for (let i = 0; i > firstWinner.length; i++) {
      //   p.textContent += 'abc'
      //   if (i !== firstWinner.length - 1) {
      //     p.textContent += ', '
      //   }
      // }
      // console.log(p)
    })

    // 1. 특정한 번호를 하드코딩한다.
    // 생성된 번호가 매칭되는지 확인한다.
    // 


    </script>

  <!-- bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>